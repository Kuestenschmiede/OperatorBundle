function renderTemplateNode(e,n){var r=document.querySelector("#elementTpl").content.querySelector("#element").cloneNode(!0);return r.innerHTML=r.innerHTML.replaceAll("redirectUrl",e.redirectUrl),e.image&&(r.innerHTML=r.innerHTML.replaceAll("elementImageSrc",e.image.src),r.innerHTML=r.innerHTML.replaceAll("elementImageAlt",e.image.alt),document.querySelectorAll(".main-image").forEach(n=>{let r=n.closest(".image-container");var e;r&&(n.complete&&0<n.naturalWidth?(e=1<=n.naturalWidth/n.naturalHeight?"landscape":"portrait",r.classList.add(e)):n.addEventListener("load",()=>{var e=1<=n.naturalWidth/n.naturalHeight?"landscape":"portrait";r.classList.add(e)}))})),r.innerHTML=r.innerHTML.replaceAll("elementName",e.name),r.innerHTML=r.innerHTML.replaceAll("elementType",e.type),e.opening_hours=e.opening_hours.replaceAll("Mo","Montag"),e.opening_hours=e.opening_hours.replaceAll("Tu","Dienstag"),e.opening_hours=e.opening_hours.replaceAll("We","Mittwoch"),e.opening_hours=e.opening_hours.replaceAll("Th","Donnerstag"),e.opening_hours=e.opening_hours.replaceAll("Do","Donnerstag"),e.opening_hours=e.opening_hours.replaceAll("Fr","Freitag"),e.opening_hours=e.opening_hours.replaceAll("Sa","Samstag"),e.opening_hours=e.opening_hours.replaceAll("Su","Sonntag"),r.innerHTML=r.innerHTML.replaceAll("openingHours",e.opening_hours),r}function getData(){let o=document.querySelector("#nearby-showcase-list");function n(e){let n="/gutesio/operator/nearby_showcase/"+o.getAttribute("module-id");e&&(n=n+"/"+e.join(",")),fetch(n).then(e=>{e.ok?e.json().then(n=>{if(0!==n.length){0<o.children.length&&(o.innerHTML="");for(let e=0;e<n.length;e++){var r=renderTemplateNode(n[e],e);o.appendChild(r)}}else console.error("An error occurred loading new data from the server.")}):console.error("An error occurred loading new data from the server.")})}"true"===o.getAttribute("check-position")?navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{n([e.coords.longitude,e.coords.latitude])},()=>{n(null)},{maximumAge:18e5,timeout:5e3}):n(null)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{getData()}):getData();